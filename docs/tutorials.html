<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    
    <title>Tutorials &mdash; MARKUP Theme</title>
    <link rel="stylesheet" href="_static/markup.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
    URL_ROOT:    './',
    VERSION:     '',
    COLLAPSE_INDEX: false,
    FILE_SUFFIX: '.html',
//    HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="_static/jquery.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/searchtools.js"></script>
<script type="text/javascript" src="_static/script.js"></script>
<script type="text/javascript" src="_static/expando.js"></script>
<script type="text/javascript" src="_static/tabs.js"></script>
<script type="text/javascript" src="_static/all.js"></script>


<!--
The all.js added here is for FontAwesome. If you want to use the CDN instead, remove the line for all.js and uncomment the section at the bottom of _config.scss and update for the correct path to the version of FontAwesome you want to use via their CDN.
-->
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="top" title="MARKUP Theme" href="index.html" />
    <link rel="prev" title="Site Templates" href="templates.html" /> 
  </head>
  <body role="document">
    <div class="body-wrap">



  <nav class="nav-main" role="navigation" data-topbar>
    <div class="nav-inner">
      <div class="left">
        <h1>
          <a href="/markup-theme/index.html">
            <img id="markup" height="34" src="_static/markup-logo.svg" onerror="_static/markup-logo.png"/>
          </a>
        </h1>
      </div>

      <div id="nav-icon"><i class="fas fa-bars"></i></div>

      <a href="https://github.com/markup-theme/markup-theme">
        <img id="logo" src="_static/markup-topnav.svg" onerror="_static/markup-topnav.png"/>
      </a>

      <ul class="nav-links links-main">
        <li class="nav-link is-active">
          <a href="../markup-theme/index.html">Theme and Templates</a>
        </li>
        <li class="nav-link">
          <a href="/markup-theme/rst/rst.html">reStructuredText</a>
        </li>
        <li class="nav-link">
          <a href="/markup-theme/md/md.html">Markdown</a>
        </li>
      </ul>

    </div>
  </nav>



    <div class="document markup-docs">
    <!---->
<nav class="nav-docs">
  <ul class="nav-docs-items" id="nav-docs-list">



    <li class="main-item dark-item">
      <a href="index.html"><i class="fas fa-arrow-alt-circle-up fa-fw icon-left"></i></i>MARKUP Theme</img></a>
    </li>

    <li class="main-item has-sub-items docs-search">
      <form action=/markup-theme/search.html method="get">
        <input type="text" placeholder="Search" id="docs-search" name="q">
        <input type="submit" class="submit-button" value="">
        <i class="fa fa-search icon-search"></i>
      </form>
    </li>

<!-- disabled in favor of right-side search block; if public docs, this option is much better? you decide! 

    <li class="main-item dark-item docs-search">
      <form action="/search.html" method="get">
        <input type="text" placeholder="Search" id="docs-search" name="q">
        <input type="submit" class="submit-button" value="">
        <i class="fa fa-search icon-search"></i>
      </form>
    </li>
-->

<!--
    <li class="version-picker">
      Filter by product and version
      <div class="dropdown-wrapper">
  <div class="dropdown-select">
    <span id="dropdown-select-product">MARKUP Theme</span>: <span id="dropdown-select-version">current</span>
    <i class="fa fa-chevron-down"></i>
  </div>
  <ul class="dropdown-items">
    <li class="dropdown-item">
    <a href="/">Documentation Releases</a>
    </li>
    <li class="dropdown-item has-sub-items">AppName<i class="fa fa-chevron-right"></i>
      <ul class="dropdown-sub-items">
        <li class="dropdown-item"><a href="/abc/1-0-0/">1.0.0</a></li>
        <li class="dropdown-item"><a href="/abc/1-0-1/">1.0.1</a></li>
        <li class="dropdown-item"><a href="/abc/1-0-2/">1.0.2</a></li>
        <li class="dropdown-item"><a href="/abc/1-0-3/">1.0.3</a></li>
      </ul>
    </li>
    <li class="dropdown-item">
      <a href="/release/foo/">Release Foo</a>
    </li>
    <li class="dropdown-item has-sub-items">Release Bar<i class="fa fa-chevron-right"></i>
      <ul class="dropdown-sub-items">
        <li class="dropdown-item"><a href="/release/bar_1-0">Bar 1.0</a></li>
        <li class="dropdown-item"><a href="/release/bar_1-1">Bar 1.1</a></li>
      </ul>
    </li>
    <li class="legacy-heading">Archived Docs</li>
    <li class="dropdown-item">
      <a href="/release/analytics/">Archived Foo</a>
    </li>
    <li class="dropdown-item has-sub-items legacy-item">Archived Bar<i class="fa fa-chevron-right"></i>
      <ul class="dropdown-sub-items">
        <li class="dropdown-item legacy-item"><a href="/release/bar_0-8/">Bar 0.8</a></li>
        <li class="dropdown-item legacy-item"><a href="/release/bar_0-9/">Bar 0.9</a></li>
      </ul>
    </li>
  </ul>
</div>
    </li>
-->   

    
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="MARKUP Theme"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fas fa-arrow-alt-circle-up fa-fw icon-left"></i> MARKUP Theme <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="MARKUP Theme">
            MARKUP Theme
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/index.html#markup-theme" title="About the MARKUP Theme">
                About the MARKUP Theme
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/index.html#goals" title="Goals">
                Goals
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/index.html#non-goals" title="Non-goals">
                Non-goals
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/faq.html" title="FAQs">
            FAQs
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/index.html#requirements" title="Requirements">
            Requirements
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/index.html#set-up-the-environment" title="Set Up the Environment">
            Set Up the Environment
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/index.html#set-up-localhost" title="Set Up Localhost">
            Set Up Localhost
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/index.html#build-the-markup-theme" title="Build the MARKUP theme">
            Build the MARKUP theme
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Tutorials"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-check-square icon-left"></i> Tutorials <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html" title="About Tutorials">
            About Tutorials
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#blockquotes" title="Blockquotes">
            Blockquotes
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#change-colors" title="Change Colors">
            Change Colors
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#sass" title="Sass">
            Sass
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#add-code-block-styles" title="Add Code Block Styles">
            Add Code Block Styles
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#local-pygments-css" title="Local Pygments CSS">
            Local Pygments CSS
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#font-awesome-icon-library" title="Font Awesome Icons">
            Font Awesome Icons
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#github-pages" title="GitHub Pages">
            GitHub Pages
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#pdf-cover-pages" title="PDF Cover Pages">
            PDF Cover Pages
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/tutorials.html#tokens" title="Tokens">
            Tokens
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Navigation Icons">
            Navigation Icons
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#left-side" title="Left Side">
                Left Side
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#right-side" title="Right Side">
                Right Side
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#hamburger-button" title="Hamburger Buttom">
                Hamburger Buttom
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#inline" title="Inline">
                Inline
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Upgrade the MARKUP Theme">
            Upgrade the MARKUP Theme
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#expando-py-extension" title="expando.py">
                expando.py
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#tabs-py-extension" title="tabs.py">
                tabs.py
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/tutorials.html#slides-py-extension" title="slides.py">
                slides.py
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Site Templates"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-clone icon-left"></i> Site Templates <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/templates.html" title="About Site Templates">
            About Site Templates
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/templates.html#layout-html" title="layout.html">
            layout.html
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="nav-docs.html">
            nav-docs.html
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#nav-docs-html" title="About nav-docs.html">
                About nav-docs.html
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#global-navigation" title="Global Navigation">
                Global Navigation
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#site-specific-navigation" title="Site-specific Navigation">
                Site-specific Navigation
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#navigation-structure" title="Navigation Structure">
                Navigation Structure
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#navigation-paths" title="Navigation Paths">
                Navigation Paths
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#active-product" title="Active Product">
                Active Product
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#active-page-name" title="Active Page Name">
                Active Page Name
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/markup-theme/templates.html#active-version" title="Active Version">
                Active Version
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/templates.html#css-stylesheets" title="CSS Stylesheets">
            CSS Stylesheets
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Additional Resources"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-folder-open icon-left"></i> Additional Resources <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/markup-theme/resources.html" title="PDFs and Slide Decks">
            PDFs and Slide Decks
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li> <!-- /for item in navItems -->
    

<!--
    <li class="main-item dark-item">
      <a href="feedback.html"><i class="fas fa-question-circle fa-fw icon-left"></i>Send Feedback</a>
    </li>
-->
<!--
    <li class="main-item dark-item">
      <a href="support.html"><i class="fal fa-life-ring fa-fw icon-left"></i>Support</a>
    </li>
-->

    <li class="main-item dark-item">
      <a href="index.html"><i class="fas fa-sitemap fa-fw icon-left"></i>Site Map</a>
    </li>
  </ul>
</nav>
      <div class="documentwrapper"><div class="sphinxsidebar" role="navigation" aria-label="main navigation">

<!-- Uncomment to add an image above the right-side nav bar -->

<!--  <a class="sphinxsidebar-ad" href="https://www.yoursitename.com" target="_blank">
    <img src="_static/12345.svg" alt="alt" />
  </a>
-->


<!--
    <div id="searchbox" class="main-item dark-item docs-search">
      <form action="/search.html" method="get">
        <input type="text" placeholder="Search" id="docs-search" name="q">
        <input type="submit" class="submit-button" value="Go">
        <i class="fa fa-search icon-search"></i>
      </form>
    </div>
<script type="text/javascript">$('#searchbox').show(0);</script>
-->



  <div class="sphinxsidebarwrapper">
  <h3><i class="fas fa-newspaper" aria-hidden="true"></i><a href="index.html">&nbsp;ON THIS PAGE</a></h3>
  <ul>
<li><a class="reference internal" href="#">Tutorials</a><ul>
<li><a class="reference internal" href="#blockquotes">Blockquotes</a></li>
<li><a class="reference internal" href="#change-colors">Change Colors</a></li>
<li><a class="reference internal" href="#sass">Sass</a></li>
<li><a class="reference internal" href="#add-code-block-styles">Add Code Block Styles</a></li>
<li><a class="reference internal" href="#local-pygments-css">Local Pygments CSS</a></li>
<li><a class="reference internal" href="#font-awesome-icon-library">Font Awesome Icon Library</a></li>
<li><a class="reference internal" href="#github-pages">GitHub Pages</a></li>
<li><a class="reference internal" href="#pdf-cover-pages">PDF Cover Pages</a></li>
<li><a class="reference internal" href="#tokens">Tokens</a></li>
<li><a class="reference internal" href="#navigation-icons">Navigation Icons</a><ul>
<li><a class="reference internal" href="#left-side">Left Side</a></li>
<li><a class="reference internal" href="#right-side">Right Side</a></li>
<li><a class="reference internal" href="#hamburger-button">Hamburger Button</a></li>
<li><a class="reference internal" href="#inline">Inline</a></li>
</ul>
</li>
<li><a class="reference internal" href="#upgrade-the-markup-theme">Upgrade the MARKUP Theme</a><ul>
<li><a class="reference internal" href="#expando-py-extension">expando.py Extension</a></li>
<li><a class="reference internal" href="#tabs-py-extension">tabs.py Extension</a></li>
<li><a class="reference internal" href="#slides-py-extension">slides.py Extension</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorials">
<h1>Tutorials<a class="headerlink" href="#tutorials" title="Permalink to this headline">¶</a></h1>
<p>This section contains tutorials and tutorial-like things! They range from examples of customizing and extending the MARKUP theme to documentation of what’s necessary to keep the them running. We put these here in part because much of customizing and working with Sphinx is some degree of inscrutable or opaque and there just aren’t enough examples out there.</p>
<div class="section" id="blockquotes">
<h2>Blockquotes<a class="headerlink" href="#blockquotes" title="Permalink to this headline">¶</a></h2>
<p>The MARKUP theme does not support blockquote styles for Markdown by default. This support can be added easily. Blockquotes are added to Markdown like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>&gt; This is a blockquote.
</pre></div>
</div>
<p>but without the supporting CSS the text is presented plainly.</p>
<p>To add support for blockquotes, you’ll need to update the CSS for the MARKUP theme (for both HTML and PDF).</p>
<p><strong>To add CSS to support blockquotes</strong></p>
<ol class="arabic">
<li><p class="first">Open a command prompt and navigate to the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code> directory.</p>
</li>
<li><p class="first">Run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sass --watch scss/markup.scss:markup.css_t
</pre></div>
</div>
</li>
<li><p class="first">Open the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/_sphinx.scss</span></code> file in a text editor.</p>
</li>
<li><p class="first">Add CSS similar to:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>blockquote, q {
  border-left: 5px solid $markup-dark-blue;
  padding: 1em 1em 1em 1em;
}
</pre></div>
</div>
</li>
<li><p class="first">Save the <code class="docutils literal notranslate"><span class="pre">_sphinx.css</span></code> file.</p>
</li>
<li><p class="first">Add a blockquote to a Markdown topic:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&gt; This is a blockquote.
</pre></div>
</div>
</li>
<li><p class="first">Run the build and review the output.</p>
</li>
<li><p class="first">Update the CSS to your preferences. Change the color, margin size, etc.</p>
</li>
<li><p class="first">When finished with the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code> directory, repeat these steps exactly for the <code class="docutils literal notranslate"><span class="pre">_themes/markup_pdf/static/</span></code> directory to ensure this style is also available for PDF printing.</p>
</li>
</ol>
</div>
<div class="section" id="change-colors">
<h2>Change Colors<a class="headerlink" href="#change-colors" title="Permalink to this headline">¶</a></h2>
<p>What, you don’t like the colors on this site? Want to use your organization’s colors? Fine. Here’s how to change them.</p>
<ol class="arabic">
<li><p class="first">Open a command prompt and navigate to the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code> directory.</p>
</li>
<li><p class="first">Run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sass --watch scss/markup.scss:markup.css_t
</pre></div>
</div>
</li>
<li><p class="first">Open the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/_config.scss</span></code> file in a text editor.</p>
</li>
<li><p class="first">This file contains variables similar to:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">$</span><span class="nt">markup-red</span><span class="o">:</span> <span class="p">#</span><span class="nn">f06543</span><span class="o">;</span>
<span class="o">$</span><span class="nt">markup-dark-blue</span><span class="o">:</span> <span class="p">#</span><span class="nn">1e2022</span><span class="o">;</span>
<span class="o">$</span><span class="nt">markup-blue-grey</span><span class="o">:</span> <span class="p">#</span><span class="nn">c9d6df</span><span class="o">;</span>
<span class="o">$</span><span class="nt">markup-bright-yellow</span><span class="o">:</span> <span class="p">#</span><span class="nn">f9e784</span><span class="o">;</span>
</pre></div>
</div>
<p>For admonitions and code-blocks, they have specific names:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="o">$</span><span class="nt">markup-code-block-console</span><span class="o">:</span> <span class="p">#</span><span class="nn">216869</span><span class="o">;</span>
<span class="o">$</span><span class="nt">markup-note</span><span class="o">:</span> <span class="p">#</span><span class="nn">52616b</span><span class="o">;</span>
</pre></div>
</div>
<p>Some are related to navigation and others are extension-specific (for tabs and expandos). We’d like to think they are all perfectly named, but they might not be.</p>
</li>
<li><p class="first">In the other CSS files, such as <code class="docutils literal notranslate"><span class="pre">_sphinx.scss</span></code> you’ll see the variables:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>div.note {
<span class="hll">    border: 2px solid $markup-note;
</span>}

div.note p.admonition-title {
<span class="hll">    color: $markup-white;
</span><span class="hll">    background-color: $markup-note;
</span><span class="hll">    border-bottom-color: $markup-note;
</span>}
</pre></div>
</div>
<p>You can change these however you want. Do one or two at a time, test as you go. As you save the CSS files, Sass will verify the output is done correctly and will report any errors with the syntax. You’ll need to look at the output to make sure you’ve got the colors you want.</p>
</li>
</ol>
</div>
<div class="section" id="sass">
<h2>Sass<a class="headerlink" href="#sass" title="Permalink to this headline">¶</a></h2>
<p>The MARKUP theme is already set up to use <a class="reference external" href="https://sass-lang.com/">Sass</a>. You will need to <a class="reference external" href="https://sass-lang.com/install">download Sass</a> to make changes to the style sheet. Recommended! You could switch this to be managed by your other favorite CSS manager, like <a class="reference external" href="http://lesscss.org/">Less</a>. But we don’t provide any tips on how to do that.</p>
</div>
<div class="section" id="add-code-block-styles">
<h2>Add Code Block Styles<a class="headerlink" href="#add-code-block-styles" title="Permalink to this headline">¶</a></h2>
<p>A new color style for code blocks can be easily added. There are three spots in the <code class="docutils literal notranslate"><span class="pre">_sphinx.scss</span></code> file that require updates for new code blocks, along with a new entry in <code class="docutils literal notranslate"><span class="pre">_config.scss</span></code>.</p>
<p>The following example shows how to add code block styles for everybody’s favorite statically-typed purely functional programming language.</p>
<p><strong>Add code block styles for Haskell</strong></p>
<p>#. Identify the shortname for the lexer in Pygments. In this case, it’s <code class="docutils literal notranslate"><span class="pre">haskell</span></code>.
##. Open a command prompt and navigate to the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code> directory.
#. Run the following command:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$</span> sass --watch scss/markup.scss:markup.css_t
</pre></div>
</div>
</div></blockquote>
<ol class="arabic">
<li><p class="first">Open the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/_config.scss</span></code> file in a text editor and update the list of code block-specific variables to add the highlighted entry for Haskell, along with choosing a color:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$markup-code-block-none: #93a1aa;
$markup-code-block-bash: #345995;
$markup-code-block-console: #216869;
$markup-code-block-css: #51344d;
$markup-code-block-django: #8fcb9b;
<span class="hll">$markup-code-block-haskell: #b8c5d6;
</span>$markup-code-block-html: #eac435;
/* ... snip ... */
</pre></div>
</div>
</li>
<li><p class="first">Open <code class="docutils literal notranslate"><span class="pre">_sphinx.scss</span></code> and add the highlighted sections. This will add Haskell to the CSS that defines the border of the code block:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.highlight-none,
.highlight-bash,
.highlight-console,
.highlight-css,
.highlight-django,
<span class="hll">.highlight-haskell,
</span>.highlight-html,
/* ... snip ... */
.highlight-yaml,{
    position:relative;
    -webkit-border-top-left-radius: 3px;
    -webkit-border-top-right-radius: 3px;
    -webkit-border-bottom-left-radius: 3px;
    -webkit-border-bottom-right-radius: 3px;
    -moz-border-radius-topleft: 2px;
    -moz-border-radius-topright: 2px;
    -moz-border-radius-bottomleft: 2px;
    -moz-border-radius-bottomright: 2px;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    border-bottom-left-radius: 3px;
    border-bottom-right-radius: 3px;
}

.highlight-none:before,
.highlight-bash:before,
.highlight-console:before,
.highlight-css:before,
.highlight-django:before,
<span class="hll">.highlight-haskell:before,
</span>.highlight-html:before,
/* ... snip ... */
.highlight-yaml:before,{
    z-index:10;
    font-size:9px;
    padding:.2em .6em;
    text-align:center;
    color:$markup-dark-grey;
    display:block;
    position:absolute;
    border-radius:0 3px 0 3px;
    border-top:none;
    border-right:none;
    background-color:$markup-lightest-grey;
    top:0;
    right:0;
    height:12px
}
</pre></div>
</div>
</li>
<li><p class="first">Add the following block of code. Copy and paste one of the others, and then be sure to get the highlighted names correct for the <code class="docutils literal notranslate"><span class="pre">content</span></code> and color variable names:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span><span class="hll">.highlight-haskell:before{
</span><span class="hll">    content:&#39;HASKELL&#39;;
</span><span class="hll">    background-color:$markup-code-block-haskell;
</span><span class="hll">    color:$markup-white;
</span>}
<span class="hll">
</span><span class="hll">.highlight-haskell pre{
</span>    border-color:$markup-code-block-haskell;
    -webkit-border-top-left-radius: 3px;
    -webkit-border-top-right-radius: 3px;
    -webkit-border-bottom-left-radius: 3px;
    -webkit-border-bottom-right-radius: 3px;
    -moz-border-radius-topleft: 2px;
    -moz-border-radius-topright: 2px;
    -moz-border-radius-bottomleft: 2px;
    -moz-border-radius-bottomright: 2px;
    border-top-left-radius: 3px;
    border-top-right-radius: 3px;
    border-bottom-left-radius: 3px;
    border-bottom-right-radius: 3px;
}
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">For darker colors, choose <code class="docutils literal notranslate"><span class="pre">$markup-white</span></code> and or lighter colors consider choosing <code class="docutils literal notranslate"><span class="pre">$markup-almost-black</span></code> for the text color, which is defined by <code class="docutils literal notranslate"><span class="pre">color</span></code> in the first CSS block.</p>
</div>
</li>
</ol>
</div>
<div class="section" id="local-pygments-css">
<h2>Local Pygments CSS<a class="headerlink" href="#local-pygments-css" title="Permalink to this headline">¶</a></h2>
<p>Pygments is an <a class="reference external" href="http://pygments.org/">open source generic syntax highlighter</a> that is used by the MARKUP theme to prettify source code. Pygments has the following BSD license:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Copyright (c) 2006-2017 by the respective authors (see AUTHORS file).
All rights reserved.

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:

* Redistributions of source code must retain the above copyright
  notice, this list of conditions and the following disclaimer.

* Redistributions in binary form must reproduce the above copyright
  notice, this list of conditions and the following disclaimer in the
  documentation and/or other materials provided with the distribution.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
</pre></div>
</div>
<p>The MARKUP theme puts a copy of pygments.css into the <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code> directory to provide local control for two CSS settings:</p>
<div class="highlight-css notranslate"><div class="highlight"><pre><span></span><span class="p">.</span><span class="nc">highlight</span> <span class="p">.</span><span class="nc">hll</span> <span class="p">{</span> <span class="k">background-color</span><span class="p">:</span> <span class="mh">#f9e784</span> <span class="p">}</span>
<span class="p">.</span><span class="nc">highlight</span>  <span class="p">{</span> <span class="k">background</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span> <span class="p">}</span>
</pre></div>
</div>
<p>They are located at the top of the CSS file. The reason why this is done is to be able to apply a preferred color to code line highlights and to prevent the default grey background for code blocks from appearing in situations where code blocks appear inside admonitions, by changing it to white.</p>
<p>It’s a somewhat clumsy workaround, but figuring out how to override two specific CSS settings in Pygments was harder and (at this time) seems impossible. If you don’t want to use a local copy of pygments.css, just remove it from the MARKUP theme. The default yellow highlight is probably fine and the instance of code blocks appearing inside admonitions should be uncommon. If you want to keep it, you may need to grab an updated copy of pygments.css and re-do these two changes when Pygments itself is upgraded.</p>
</div>
<div class="section" id="font-awesome-icon-library">
<h2>Font Awesome Icon Library<a class="headerlink" href="#font-awesome-icon-library" title="Permalink to this headline">¶</a></h2>
<p>Font Awesome is an <a class="reference external" href="https://fontawesome.com/license/free">open source icon library</a> that offers a free standard set of icons. The MARKUP theme uses a single unmodified CSS and a single unmodified JavaScript file from the Font Awesome Free for the Web library.</p>
<p><strong>Upgrade the Font Awesome Free for the Web library</strong></p>
<ol class="arabic simple">
<li>Navigate to <a class="reference external" href="https://fontawesome.com/start">https://fontawesome.com/start</a>.</li>
<li>Click Download.</li>
<li>On the next page, click the <strong>Font Awesome Free for the Web</strong> button.</li>
<li>When the download is complete, open it. Copy the following files: <code class="docutils literal notranslate"><span class="pre">all.css</span></code> and <code class="docutils literal notranslate"><span class="pre">all.js</span></code>.</li>
<li>Paste these files into <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code>.</li>
</ol>
<p><strong>Use Font Awesome Pro</strong></p>
<ol class="arabic simple">
<li>Navigate to <a class="reference external" href="https://fontawesome.com/pro">https://fontawesome.com/pro</a>.</li>
<li>Purchase a subscription for Font Awesome Pro.</li>
<li>Download the icon library.</li>
<li>When the download is complete, open it. Copy the following files: <code class="docutils literal notranslate"><span class="pre">all.css</span></code> and <code class="docutils literal notranslate"><span class="pre">all.js</span></code>.</li>
<li>Paste these files into <code class="docutils literal notranslate"><span class="pre">_themes/markup/static/</span></code>.</li>
</ol>
</div>
<div class="section" id="github-pages">
<h2>GitHub Pages<a class="headerlink" href="#github-pages" title="Permalink to this headline">¶</a></h2>
<p>You can host the output of a Sphinx project on GitHub pages:</p>
<ol class="arabic simple">
<li>Create a directory named <code class="docutils literal notranslate"><span class="pre">/docs</span></code> as a top-level directory in your documentation project.</li>
<li>In the <code class="docutils literal notranslate"><span class="pre">/docs</span></code> directory, add a file named <code class="docutils literal notranslate"><span class="pre">.nojekyll</span></code>. This file should be empty.</li>
<li>Build your Sphinx output to the <code class="docutils literal notranslate"><span class="pre">/docs</span></code> directory.</li>
<li>In GitHub, choose <strong>Settings</strong> and then under <strong>GitHub Pages</strong> select the <code class="docutils literal notranslate"><span class="pre">master</span> <span class="pre">branch</span> <span class="pre">/docs</span> <span class="pre">folder</span></code> option. The <strong>Settings</strong> page will refresh with the URL for the published HTML. For example: <a class="reference external" href="https://markup-theme.github.io/markup-theme/">https://markup-theme.github.io/markup-theme/</a>.</li>
<li>Check in your project.</li>
<li>A few minutes later you should see the HTML at the URL specified under <strong>GitHub Pages</strong>.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You may need to update the linking paths used in the site for the <code class="docutils literal notranslate"><span class="pre">nav-docs</span></code>, <code class="docutils literal notranslate"><span class="pre">layout</span></code>, and <code class="docutils literal notranslate"><span class="pre">search</span></code> files, as the GitHub path generated by GitHub pages adds a directory to the path that is the same name as the project. For example, the <code class="docutils literal notranslate"><span class="pre">/markup-theme/</span></code> part of the <code class="docutils literal notranslate"><span class="pre">https://markup-theme.github.io/markup-theme/</span></code> is added and this may affect how URLs are defined across the site.</p>
</div>
</div>
<div class="section" id="pdf-cover-pages">
<h2>PDF Cover Pages<a class="headerlink" href="#pdf-cover-pages" title="Permalink to this headline">¶</a></h2>
<p>PDF generation relies on two images located in the <code class="docutils literal notranslate"><span class="pre">markup_pdf/_static</span></code> directory:</p>
<ul class="simple">
<li>cover-test.png</li>
<li>markup-logo.png</li>
</ul>
<p>Both of these images should be replaced with your preferred PDF cover and company logo. Replace <code class="docutils literal notranslate"><span class="pre">cover-test.png</span></code> with any PNG image you want, and then update <code class="docutils literal notranslate"><span class="pre">markup-logo.png</span></code> with your company’s logo.</p>
<p>If you change any of these names, be sure to update these names in the <code class="docutils literal notranslate"><span class="pre">_themes/markup_pdf/layout.html</span></code> file also. While you’re in there, fix the copyright statement at the bottom to say your company name and your company URL.</p>
<p>You can move around the <code class="docutils literal notranslate"><span class="pre">markup-logo.png</span></code> file by adjusting the <code class="docutils literal notranslate"><span class="pre">top</span></code>, <code class="docutils literal notranslate"><span class="pre">left</span></code>, <code class="docutils literal notranslate"><span class="pre">width</span></code>, and <code class="docutils literal notranslate"><span class="pre">height</span></code> settings for <code class="docutils literal notranslate"><span class="pre">#logo</span></code> in the <code class="docutils literal notranslate"><span class="pre">_nav.scss</span></code> file <code class="docutils literal notranslate"><span class="pre">markup_pdf</span></code> theme.</p>
</div>
<div class="section" id="tokens">
<h2>Tokens<a class="headerlink" href="#tokens" title="Permalink to this headline">¶</a></h2>
<p>The MARKUP theme has an example of tokens built into the theme. Open the <code class="docutils literal notranslate"><span class="pre">/markup_theme/tokens/names.txt</span></code> to see examples of tokens. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.. |company_name| replace:: YourCompanyName
.. |theme| replace:: MARKUP
.. |md| replace:: Markdown
.. |rst| replace:: reStructuredText
</pre></div>
</div>
<p>The format for defining a token is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.. |token| replace:: some-string
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">|token|</span></code> defines the string (with pipes <code class="docutils literal notranslate"><span class="pre">|</span></code> on either side) within your reStructuredText files</li>
<li><code class="docutils literal notranslate"><span class="pre">replace::</span></code> tells Sphinx the string that will replace the token</li>
<li><code class="docutils literal notranslate"><span class="pre">some-string</span></code> defines the string that will be populated by Sphinx at build-time</li>
</ul>
<p>Tokens are useful for ensuring consistency of naming. They work best with short names, but can be used for complete sentences.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you create too many tokens, this may slow your build down. In some cases, with lots of tokens, quite a bit. So use them carefully and for things where using a token makes sense.</p>
</div>
<p>Another example of using tokens is to create situations where Font Awesome icons can be used inline within reStructuredText topics. For example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>.. |fa-index-diamond| raw:: html

   &lt;i class=&quot;fas fa-diamond fa-xs&quot; data-fa-transform=&quot;shrink-5&quot;&gt;&lt;/i&gt;
</pre></div>
</div>
<p>which then appears like this:</p>
<p>some string <i class="fas fa-diamond fa-xs" data-fa-transform="shrink-5"></i> some string <i class="fas fa-diamond fa-xs" data-fa-transform="shrink-5"></i> some string</p>
<p>A location in the docs where something like this is useful is a front page in which all of the topics are listed, sort of line an index. See <a class="reference external" href="https://docs.djangoproject.com/en/2.2/">https://docs.djangoproject.com/en/2.2/</a> and the <code class="docutils literal notranslate"><span class="pre">|</span></code> character they use. Instead, MARKUP theme sets it as a diamond icon from Font Awesome.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Markdown topics can use the <code class="docutils literal notranslate"><span class="pre">&lt;i</span> <span class="pre">class&gt;</span></code> string directly inline and do not require a token.</p>
</div>
</div>
<div class="section" id="navigation-icons">
<h2>Navigation Icons<a class="headerlink" href="#navigation-icons" title="Permalink to this headline">¶</a></h2>
<p>The MARKUP theme is configured to use Font Awesome icons in the following locations:</p>
<ul class="simple">
<li>Throughout the left-side navigation at the first level of headers.</li>
<li>At the top of the right-side navigation.</li>
<li>For the hamburger button.</li>
<li>Inline in paragraphs (via special steps in reStructuredText files or via HTML tags in Markdown).</li>
</ul>
<div class="section" id="left-side">
<h3>Left Side<a class="headerlink" href="#left-side" title="Permalink to this headline">¶</a></h3>
<p>The site-specific nav-docs.html file uses Font Awesome to apply icons to the left-side of the first-level headers.</p>
<p><strong>Font Awesome icons</strong></p>
<p>The standard way the MARKUP theme adds Font Awesome icons to the left-side navigation uses the <code class="docutils literal notranslate"><span class="pre">iconClass</span></code> line to specify which icon to use:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="x">{</span>
<span class="x">  &quot;title&quot;: &quot;Start Here&quot;,</span>
<span class="hll"><span class="x">  &quot;iconClass&quot;: &quot;fas fa-arrow-alt-circle-right fa-fw&quot;,</span>
</span><span class="x">  &quot;subItems&quot;: [</span>
<span class="x">    {</span>
<span class="x">      &quot;title&quot;: &quot;Start Here&quot;,</span>
<span class="x">      &quot;hasSubItems&quot;: false,</span>
<span class="x">      &quot;url&quot;: &quot;/some_file.html&quot;</span>
<span class="x">    },</span>
<span class="x">    {</span>
<span class="x">      &quot;title&quot;: &quot;FAQ&quot;,</span>
<span class="x">      &quot;hasSubItems&quot;: false,</span>
<span class="x">      &quot;url&quot;: &quot;/faq.html&quot;</span>
<span class="x">    },</span>
<span class="x">    {</span>
<span class="x">      &quot;title&quot;: &quot;Additional Resources&quot;,</span>
<span class="x">      &quot;hasSubItems&quot;: false,</span>
<span class="x">      &quot;url&quot;: &quot;/resources.html&quot;</span>
<span class="x">    },</span>
<span class="x">  ]</span>
<span class="x">},</span>
</pre></div>
</div>
<p><strong>Custom SVG images</strong></p>
<p>You can use custom icons–such as a company or product logo–instead, as long as the custom icon is an SVG image and as long as it’s in the <code class="docutils literal notranslate"><span class="pre">/_static</span></code> directory for that documentation site. Change the <code class="docutils literal notranslate"><span class="pre">iconClass</span></code> line to be <code class="docutils literal notranslate"><span class="pre">&quot;image&quot;:</span> <span class="pre">&quot;filename.svg&quot;,</span></code>:</p>
<div class="highlight-django notranslate"><div class="highlight"><pre><span></span><span class="x">{</span>
<span class="x">  &quot;title&quot;: &quot;Start Here&quot;,</span>
<span class="hll"><span class="x">  &quot;image&quot;: &quot;markup.svg&quot;,</span>
</span><span class="x">  &quot;subItems&quot;: [</span>
<span class="x">    {</span>
<span class="x">      &quot;title&quot;: &quot;Start Here&quot;,</span>
<span class="x">      &quot;hasSubItems&quot;: false,</span>
<span class="x">      &quot;url&quot;: &quot;/some_file.html&quot;</span>
<span class="x">    },</span>
<span class="x">    {</span>
<span class="x">      &quot;title&quot;: &quot;FAQ&quot;,</span>
<span class="x">      &quot;hasSubItems&quot;: false,</span>
<span class="x">      &quot;url&quot;: &quot;/faq.html&quot;</span>
<span class="x">    },</span>
<span class="x">    {</span>
<span class="x">      &quot;title&quot;: &quot;Additional Resources&quot;,</span>
<span class="x">      &quot;hasSubItems&quot;: false,</span>
<span class="x">      &quot;url&quot;: &quot;/resources.html&quot;</span>
<span class="x">    },</span>
<span class="x">  ]</span>
<span class="x">},</span>
</pre></div>
</div>
</div>
<div class="section" id="right-side">
<h3>Right Side<a class="headerlink" href="#right-side" title="Permalink to this headline">¶</a></h3>
<p>The right-side navigation is built automatically based on the header structure of the topic. It contains a single icon at the top. This icon is specified in <code class="docutils literal notranslate"><span class="pre">_themes/markup/localtoc.html</span></code>:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span>- <span class="k">if</span> <span class="nv">display_toc</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;h3&gt;</span>
<span class="hll"><span class="x">    &lt;i class=&quot;fas fa-newspaper&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;</span>
</span><span class="x">    &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">pathto</span><span class="o">(</span><span class="nv">master_doc</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;&gt;&amp;nbsp;</span><span class="cp">{{</span> <span class="kp">_</span><span class="o">(</span><span class="s1">&#39;ON THIS PAGE&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;</span>
<span class="x">  &lt;/h3&gt;</span>

<span class="cp">{{</span> <span class="nv">toc</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
<p>You may create site-specific right-side navigation icons by adding a copy of <code class="docutils literal notranslate"><span class="pre">localtoc.html</span></code> to a site-specific <code class="docutils literal notranslate"><span class="pre">_templates</span></code> directory, and then updating the name of the Font Awesome icon.</p>
<p>You may comment it out if you don’t want to use the icon:</p>
<div class="highlight-jinja notranslate"><div class="highlight"><pre><span></span><span class="cp">{%</span>- <span class="k">if</span> <span class="nv">display_toc</span> <span class="cp">%}</span><span class="x"></span>
<span class="x">  &lt;h3&gt;</span>
<span class="hll"><span class="x">    &lt;!--&lt;i class=&quot;fas fa-newspaper&quot; aria-hidden=&quot;true&quot;&gt;&lt;/i&gt;--&gt;</span>
</span><span class="x">    &lt;a href=&quot;</span><span class="cp">{{</span> <span class="nv">pathto</span><span class="o">(</span><span class="nv">master_doc</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&quot;&gt;&amp;nbsp;</span><span class="cp">{{</span> <span class="kp">_</span><span class="o">(</span><span class="s1">&#39;ON THIS PAGE&#39;</span><span class="o">)</span> <span class="cp">}}</span><span class="x">&lt;/a&gt;</span>
<span class="x">  &lt;/h3&gt;</span>

<span class="cp">{{</span> <span class="nv">toc</span> <span class="cp">}}</span><span class="x"></span>
</pre></div>
</div>
</div>
<div class="section" id="hamburger-button">
<h3>Hamburger Button<a class="headerlink" href="#hamburger-button" title="Permalink to this headline">¶</a></h3>
<p>A <a class="reference external" href="https://en.wikipedia.org/wiki/Hamburger_button">hamburger button</a> appears in the browser when it’s at smaller sizes. This enables users to browse the top-level and left-side navigation structures. This icon that renders as the hamburger icon is specified in <code class="docutils literal notranslate"><span class="pre">layout.html</span></code>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">div</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;nav-icon&quot;</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;fas fa-bars&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>This icon is set globally via <code class="docutils literal notranslate"><span class="pre">_themes/markup/layout.html</span></code> and per-site via <code class="docutils literal notranslate"><span class="pre">_templates/layout.html</span></code>. In general, this icon is probably best left alone.</p>
</div>
<div class="section" id="inline">
<h3>Inline<a class="headerlink" href="#inline" title="Permalink to this headline">¶</a></h3>
<p>You can create inline Font Awesome icons.</p>
<ul class="simple">
<li>For reStructuredText topics, this requires using tokens: <code class="docutils literal notranslate"><span class="pre">|token-name|</span></code>.</li>
<li>For Markdown, you can use inline HTML: <code class="docutils literal notranslate"><span class="pre">&lt;i</span> <span class="pre">class=&quot;fas</span> <span class="pre">fa-heart&quot;&gt;&lt;/i&gt;</span></code>.</li>
</ul>
<p>See the guides for reStructuredText and Markdown for more information.</p>
</div>
</div>
<div class="section" id="upgrade-the-markup-theme">
<h2>Upgrade the MARKUP Theme<a class="headerlink" href="#upgrade-the-markup-theme" title="Permalink to this headline">¶</a></h2>
<p>The following sections are less tutorial and more documentation of changes that were necessary to the extensions included with the MARKUP theme so they may be run with certain versions of Sphinx.</p>
<div class="admonition-sphinx-1-5-1 admonition">
<p class="first admonition-title">Sphinx 1.5.1</p>
<p class="last">Sphinx 1.5.1 is, effectively, the starting point for the MARKUP theme.</p>
</div>
<div class="admonition-sphinx-1-8-5 admonition">
<p class="first admonition-title">Sphinx 1.8.5</p>
<p>The following issues were discovered when upgrading to Sphinx 1.8.5:</p>
<ol class="last arabic simple">
<li>The expando.py and tabs.py extensions needed to be updated to use the logger module. This was resolved by updating both extensions to import the logger module, and then to use the logger instead of <code class="docutils literal notranslate"><span class="pre">app.info('done')</span></code>.</li>
<li>The sphinxjp.theme.revealjs theme broke in an automated CI/CD environment because (for whatever reason) it was not installable with Sphinx 1.8.5. We didn’t try to debug that specific issue. Instead, this was resolved by moving the <code class="docutils literal notranslate"><span class="pre">directives.py</span></code> file from that theme to the <code class="docutils literal notranslate"><span class="pre">_ext</span></code> directory, renaming it <code class="docutils literal notranslate"><span class="pre">slides.py</span></code>, and deprecating the use of a standalone <code class="docutils literal notranslate"><span class="pre">compat.py</span></code> file. This was done against Sphinx 1.5.1 prior to upgrading and resolved the problem (for now).</li>
</ol>
</div>
<div class="admonition-sphinx-2-0-1 admonition">
<p class="first admonition-title">Sphinx 2.0.1</p>
<p>The following issues were discovered when upgrading to Sphinx 2.0.1:</p>
<ol class="last arabic simple">
<li>TBD. The scope of potential changes for 2.0.1 are unknown. They may be substantial or they may be easy.</li>
</ol>
</div>
<div class="section" id="expando-py-extension">
<h3>expando.py Extension<a class="headerlink" href="#expando-py-extension" title="Permalink to this headline">¶</a></h3>
<p>The following tabs highlight changes made to the expando extension as part of Sphinx upgrades. The highlighted changes show the difference between the selected version and the previous version.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This extension was repurposed from the <a class="reference external" href="https://github.com/ulrobix/sphinxcontrib-contentui">contentui theme</a>, a BSD-licensed open source project available on GitHub.</p>
</div>
<div class="content-tabs expando-upgrades-by-version docutils container">
<div class="tab-content docutils container" id="tab-sphinx151">
<p class="tab-title">Sphinx 1.5.1</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Copyright (c) &lt;year&gt;, &lt;copyright holder&gt;</span>
<span class="sd">All rights reserved.</span>

<span class="sd">Redistribution and use in source and binary forms, with or without</span>
<span class="sd">modification, are permitted provided that the following conditions are met:</span>
<span class="sd">1. Redistributions of source code must retain the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer.</span>
<span class="sd">2. Redistributions in binary form must reproduce the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer in the</span>
<span class="sd">   documentation and/or other materials provided with the distribution.</span>
<span class="sd">3. All advertising materials mentioning features or use of this software</span>
<span class="sd">   must display the following acknowledgement:</span>
<span class="sd">   This product includes software developed by the &lt;organization&gt;.</span>
<span class="sd">4. Neither the name of the &lt;organization&gt; nor the</span>
<span class="sd">   names of its contributors may be used to endorse or promote products</span>
<span class="sd">   derived from this software without specific prior written permission.</span>

<span class="sd">THIS SOFTWARE IS PROVIDED BY &lt;COPYRIGHT HOLDER&gt; &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<span class="sd">EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="sd">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="sd">DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY</span>
<span class="sd">DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="sd">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="sd">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="sd">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="sd">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span>
<span class="sd">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">docutils.parsers.rst</span> <span class="kn">import</span> <span class="n">Directive</span><span class="p">,</span> <span class="n">directives</span>
<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">nodes</span>
<span class="kn">from</span> <span class="nn">docutils.statemachine</span> <span class="kn">import</span> <span class="n">StringList</span>
<span class="kn">from</span> <span class="nn">sphinx.util.osutil</span> <span class="kn">import</span> <span class="n">copyfile</span>

<span class="n">JS_FILE</span> <span class="o">=</span> <span class="s1">&#39;expando.js&#39;</span>

<span class="k">class</span> <span class="nc">ToggleDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Locate content within vertical expandable sections.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">}</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">container</span><span class="p">()</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;toggle-content&#39;</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">paragraph</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
        <span class="n">par</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;toggle-header&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
        <span class="n">par</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="n">StringList</span><span class="p">([</span><span class="n">header</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">par</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">par</span><span class="p">,</span> <span class="n">node</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">add_assets</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_javascript</span><span class="p">(</span><span class="n">JS_FILE</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">copy_assets</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
    <span class="n">dest</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">outdir</span><span class="p">,</span> <span class="s1">&#39;_static&#39;</span><span class="p">,</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">copyfile</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;expando&#39;</span><span class="p">,</span> <span class="n">ToggleDirective</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;builder-inited&#39;</span><span class="p">,</span> <span class="n">add_assets</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;build-finished&#39;</span><span class="p">,</span> <span class="n">copy_assets</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-sphinx185">
<p class="tab-title">Sphinx 1.8.5</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Copyright (c) &lt;year&gt;, &lt;copyright holder&gt;</span>
<span class="sd">All rights reserved.</span>

<span class="sd">Redistribution and use in source and binary forms, with or without</span>
<span class="sd">modification, are permitted provided that the following conditions are met:</span>
<span class="sd">1. Redistributions of source code must retain the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer.</span>
<span class="sd">2. Redistributions in binary form must reproduce the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer in the</span>
<span class="sd">   documentation and/or other materials provided with the distribution.</span>
<span class="sd">3. All advertising materials mentioning features or use of this software</span>
<span class="sd">   must display the following acknowledgement:</span>
<span class="sd">   This product includes software developed by the &lt;organization&gt;.</span>
<span class="sd">4. Neither the name of the &lt;organization&gt; nor the</span>
<span class="sd">   names of its contributors may be used to endorse or promote products</span>
<span class="sd">   derived from this software without specific prior written permission.</span>

<span class="sd">THIS SOFTWARE IS PROVIDED BY &lt;COPYRIGHT HOLDER&gt; &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<span class="sd">EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="sd">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="sd">DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY</span>
<span class="sd">DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="sd">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="sd">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="sd">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="sd">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span>
<span class="sd">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">docutils.parsers.rst</span> <span class="kn">import</span> <span class="n">Directive</span><span class="p">,</span> <span class="n">directives</span>
<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">nodes</span>
<span class="kn">from</span> <span class="nn">docutils.statemachine</span> <span class="kn">import</span> <span class="n">StringList</span>
<span class="kn">from</span> <span class="nn">sphinx.util.osutil</span> <span class="kn">import</span> <span class="n">copyfile</span>
<span class="hll"><span class="kn">from</span> <span class="nn">sphinx.util</span> <span class="kn">import</span> <span class="n">logging</span>
</span>
<span class="n">JS_FILE</span> <span class="o">=</span> <span class="s1">&#39;expando.js&#39;</span>

<span class="k">class</span> <span class="nc">ToggleDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Locate content within vertical expandable sections.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">}</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">container</span><span class="p">()</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;toggle-content&#39;</span><span class="p">)</span>

        <span class="n">header</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">]</span>
        <span class="n">par</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">paragraph</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
        <span class="n">par</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;toggle-header&#39;</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">par</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="n">StringList</span><span class="p">([</span><span class="n">header</span><span class="p">]),</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">par</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">par</span><span class="p">,</span> <span class="n">node</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">add_assets</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_javascript</span><span class="p">(</span><span class="n">JS_FILE</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">copy_assets</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
<span class="hll">    <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span class="hll">    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Copying expando JavaScript... &#39;</span><span class="p">,</span> <span class="n">nonl</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span>    <span class="n">dest</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">outdir</span><span class="p">,</span> <span class="s1">&#39;_static&#39;</span><span class="p">,</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">copyfile</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
<span class="hll">    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>
</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;expando&#39;</span><span class="p">,</span> <span class="n">ToggleDirective</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;builder-inited&#39;</span><span class="p">,</span> <span class="n">add_assets</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;build-finished&#39;</span><span class="p">,</span> <span class="n">copy_assets</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="tabs-py-extension">
<h3>tabs.py Extension<a class="headerlink" href="#tabs-py-extension" title="Permalink to this headline">¶</a></h3>
<p>The following tabs highlight changes made to the tabs extension as part of Sphinx upgrades. The highlighted changes show the difference between the selected version and the previous version.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This extension was repurposed from the <a class="reference external" href="https://github.com/ulrobix/sphinxcontrib-contentui">contentui theme</a>, a BSD-licensed open source project available on GitHub.</p>
</div>
<div class="content-tabs tabs-upgrades-by-version docutils container">
<div class="tab-content docutils container" id="tab-sphinx151">
<p class="tab-title">Sphinx 1.5.1</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Copyright (c) &lt;year&gt;, &lt;copyright holder&gt;</span>
<span class="sd">All rights reserved.</span>

<span class="sd">Redistribution and use in source and binary forms, with or without</span>
<span class="sd">modification, are permitted provided that the following conditions are met:</span>
<span class="sd">1. Redistributions of source code must retain the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer.</span>
<span class="sd">2. Redistributions in binary form must reproduce the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer in the</span>
<span class="sd">   documentation and/or other materials provided with the distribution.</span>
<span class="sd">3. All advertising materials mentioning features or use of this software</span>
<span class="sd">   must display the following acknowledgement:</span>
<span class="sd">   This product includes software developed by the &lt;organization&gt;.</span>
<span class="sd">4. Neither the name of the &lt;organization&gt; nor the</span>
<span class="sd">   names of its contributors may be used to endorse or promote products</span>
<span class="sd">   derived from this software without specific prior written permission.</span>

<span class="sd">THIS SOFTWARE IS PROVIDED BY &lt;COPYRIGHT HOLDER&gt; &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<span class="sd">EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="sd">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="sd">DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY</span>
<span class="sd">DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="sd">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="sd">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="sd">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="sd">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span>
<span class="sd">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">docutils.parsers.rst</span> <span class="kn">import</span> <span class="n">Directive</span><span class="p">,</span> <span class="n">directives</span>
<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">nodes</span>
<span class="kn">from</span> <span class="nn">docutils.statemachine</span> <span class="kn">import</span> <span class="n">StringList</span>
<span class="kn">from</span> <span class="nn">sphinx.util.osutil</span> <span class="kn">import</span> <span class="n">copyfile</span>


<span class="n">JS_FILE</span> <span class="o">=</span> <span class="s1">&#39;tabs.js&#39;</span>


<span class="k">class</span> <span class="nc">ContentTabsDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Group content with horizontal tabs.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">container</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;content-tabs&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">ContentTabsContainerDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Allow content to exist within tabs.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">}</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">container</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tab-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tab-content&#39;</span><span class="p">)</span>

        <span class="n">par</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">paragraph</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span>
        <span class="n">par</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tab-title&#39;</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">+=</span> <span class="n">par</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">add_assets</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_javascript</span><span class="p">(</span><span class="n">JS_FILE</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">copy_assets</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
    <span class="n">dest</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">outdir</span><span class="p">,</span> <span class="s1">&#39;_static&#39;</span><span class="p">,</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">copyfile</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;content-tabs&#39;</span><span class="p">,</span>  <span class="n">ContentTabsDirective</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;tab-container&#39;</span><span class="p">,</span> <span class="n">ContentTabsContainerDirective</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;builder-inited&#39;</span><span class="p">,</span> <span class="n">add_assets</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;build-finished&#39;</span><span class="p">,</span> <span class="n">copy_assets</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-sphinx185">
<p class="tab-title">Sphinx 1.8.5</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Copyright (c) &lt;year&gt;, &lt;copyright holder&gt;</span>
<span class="sd">All rights reserved.</span>

<span class="sd">Redistribution and use in source and binary forms, with or without</span>
<span class="sd">modification, are permitted provided that the following conditions are met:</span>
<span class="sd">1. Redistributions of source code must retain the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer.</span>
<span class="sd">2. Redistributions in binary form must reproduce the above copyright</span>
<span class="sd">   notice, this list of conditions and the following disclaimer in the</span>
<span class="sd">   documentation and/or other materials provided with the distribution.</span>
<span class="sd">3. All advertising materials mentioning features or use of this software</span>
<span class="sd">   must display the following acknowledgement:</span>
<span class="sd">   This product includes software developed by the &lt;organization&gt;.</span>
<span class="sd">4. Neither the name of the &lt;organization&gt; nor the</span>
<span class="sd">   names of its contributors may be used to endorse or promote products</span>
<span class="sd">   derived from this software without specific prior written permission.</span>

<span class="sd">THIS SOFTWARE IS PROVIDED BY &lt;COPYRIGHT HOLDER&gt; &#39;&#39;AS IS&#39;&#39; AND ANY</span>
<span class="sd">EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED</span>
<span class="sd">WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE</span>
<span class="sd">DISCLAIMED. IN NO EVENT SHALL &lt;COPYRIGHT HOLDER&gt; BE LIABLE FOR ANY</span>
<span class="sd">DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span>
<span class="sd">(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;</span>
<span class="sd">LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND</span>
<span class="sd">ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<span class="sd">(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS</span>
<span class="sd">SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">docutils.parsers.rst</span> <span class="kn">import</span> <span class="n">Directive</span><span class="p">,</span> <span class="n">directives</span>
<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">nodes</span>
<span class="kn">from</span> <span class="nn">docutils.statemachine</span> <span class="kn">import</span> <span class="n">StringList</span>
<span class="kn">from</span> <span class="nn">sphinx.util.osutil</span> <span class="kn">import</span> <span class="n">copyfile</span>
<span class="hll"><span class="kn">from</span> <span class="nn">sphinx.util</span> <span class="kn">import</span> <span class="n">logging</span>
</span>
<span class="n">JS_FILE</span> <span class="o">=</span> <span class="s1">&#39;tabs.js&#39;</span>


<span class="k">class</span> <span class="nc">ContentTabsDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Group content with horizontal tabs.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">container</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;content-tabs&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
            <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">ContentTabsContainerDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Allow content to exist within tabs.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">}</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">1</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">container</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;ids&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tab-</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tab-content&#39;</span><span class="p">)</span>

        <span class="n">par</span> <span class="o">=</span> <span class="n">nodes</span><span class="o">.</span><span class="n">paragraph</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span>
        <span class="n">par</span><span class="p">[</span><span class="s1">&#39;classes&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;tab-title&#39;</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">+=</span> <span class="n">par</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">add_assets</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_javascript</span><span class="p">(</span><span class="n">JS_FILE</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">copy_assets</span><span class="p">(</span><span class="n">app</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
<span class="hll">    <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
</span><span class="hll">    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Copying tabs JavaScript... &#39;</span><span class="p">,</span> <span class="n">nonl</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</span>    <span class="n">dest</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">builder</span><span class="o">.</span><span class="n">outdir</span><span class="p">,</span> <span class="s1">&#39;_static&#39;</span><span class="p">,</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">source</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)),</span> <span class="n">JS_FILE</span><span class="p">)</span>
    <span class="n">copyfile</span><span class="p">(</span><span class="n">source</span><span class="p">,</span> <span class="n">dest</span><span class="p">)</span>
<span class="hll">    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;done&#39;</span><span class="p">)</span>
</span>

<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;content-tabs&#39;</span><span class="p">,</span>  <span class="n">ContentTabsDirective</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;tab-container&#39;</span><span class="p">,</span> <span class="n">ContentTabsContainerDirective</span><span class="p">)</span>

    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;builder-inited&#39;</span><span class="p">,</span> <span class="n">add_assets</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s1">&#39;build-finished&#39;</span><span class="p">,</span> <span class="n">copy_assets</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="slides-py-extension">
<h3>slides.py Extension<a class="headerlink" href="#slides-py-extension" title="Permalink to this headline">¶</a></h3>
<p>The following tabs highlight changes made to the slides extension as part of Sphinx upgrades. The highlighted changes show the difference between the selected version and the previous version.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The changes made for 1.5.1 are in comparison to the <code class="docutils literal notranslate"><span class="pre">compat.py</span></code> and <code class="docutils literal notranslate"><span class="pre">directives.py</span></code> files in the <a class="reference external" href="https://github.com/tell-k/sphinxjp.themes.revealjs">open source project</a>. The open source license statement was added to the top of slides.py, along with the highlighted changes.</p>
</div>
<div class="content-tabs expando-upgrades-by-version docutils container">
<div class="tab-content docutils container" id="tab-sphinx151">
<p class="tab-title">Sphinx 1.5.1</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    sphinxjp.themes.revealjs.directives</span>
<span class="sd">    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span>

<span class="sd">    :author: tell-k &lt;ffk2005@gmail.com&gt;</span>
<span class="sd">    :copyright: tell-k. All Rights Reserved.</span>

<span class="sd">    Permission is hereby granted, free of charge, to any person</span>
<span class="sd">    obtaining a copy of this software and associated documentation</span>
<span class="sd">    files (the &quot;Software&quot;), to deal in the Software without</span>
<span class="sd">    restriction, including without limitation the rights to use,</span>
<span class="sd">    copy, modify, merge, publish, distribute, sublicense, and/or sell</span>
<span class="sd">    copies of the Software, and to permit persons to whom the</span>
<span class="sd">    Software is furnished to do so, subject to the following</span>
<span class="sd">    conditions:</span>

<span class="sd">    The above copyright notice and this permission notice shall be</span>
<span class="sd">    included in all copies or substantial portions of the Software.</span>

<span class="sd">    THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND,</span>
<span class="sd">    EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES</span>
<span class="sd">    OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND</span>
<span class="sd">    NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT</span>
<span class="sd">    HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,</span>
<span class="sd">    WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING</span>
<span class="sd">    FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR</span>
<span class="sd">    OTHER DEALINGS IN THE SOFTWARE.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="hll"><span class="c1">#added from compat.py</span>
</span><span class="hll"><span class="kn">import</span> <span class="nn">sys</span>
</span><span class="hll"><span class="n">text</span> <span class="o">=</span> <span class="nb">str</span> <span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">else</span> <span class="nb">unicode</span>  <span class="c1"># NOQA</span>
</span>
<span class="kn">from</span> <span class="nn">docutils</span> <span class="kn">import</span> <span class="n">nodes</span>
<span class="hll"><span class="kn">from</span> <span class="nn">docutils.parsers.rst</span> <span class="kn">import</span> <span class="n">Directive</span><span class="p">,</span> <span class="n">directives</span>
</span><span class="kn">from</span> <span class="nn">docutils.parsers.rst.roles</span> <span class="kn">import</span> <span class="n">set_classes</span>
<span class="hll"><span class="c1">#removed from sphinxjp.themes.revealjs import compat</span>
</span>
<span class="hll"><span class="n">__docformat__</span> <span class="o">=</span> <span class="s1">&#39;reStructuredText&#39;</span>
</span>

<span class="k">class</span> <span class="nc">revealjs</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">General</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; node for revealjs &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">rv_code</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">General</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; node for revealjs code section &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">rv_small</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">General</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; node for revealjs small text section &quot;&quot;&quot;</span>


<span class="k">class</span> <span class="nc">rv_note</span><span class="p">(</span><span class="n">nodes</span><span class="o">.</span><span class="n">General</span><span class="p">,</span> <span class="n">nodes</span><span class="o">.</span><span class="n">Element</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; node for revealjs presentation note &quot;&quot;&quot;</span>


<span class="k">def</span> <span class="nf">heading</span><span class="p">(</span><span class="n">argument</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; directives choices for heading tag &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">directives</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">argument</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;h1&#39;</span><span class="p">,</span> <span class="s1">&#39;h2&#39;</span><span class="p">,</span> <span class="s1">&#39;h3&#39;</span><span class="p">,</span> <span class="s1">&#39;h4&#39;</span><span class="p">,</span> <span class="s1">&#39;h5&#39;</span><span class="p">,</span> <span class="s1">&#39;h6&#39;</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">RevealjsDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Reveal.JS slide entry  &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">100</span>
    <span class="n">final_argument_whitespace</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">class_option</span><span class="p">,</span>
        <span class="s1">&#39;noheading&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">flag</span><span class="p">,</span>
        <span class="s1">&#39;title-heading&#39;</span><span class="p">:</span> <span class="n">heading</span><span class="p">,</span>
        <span class="s1">&#39;subtitle&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;subtitle-heading&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-autoslide&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-markdown&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-transition&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-transition-speed&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-background&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-background-repeat&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-background-size&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-background-transition&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-state&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-separator&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-separator-vertical&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-separator-notes&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
        <span class="s1">&#39;data-charset&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">unchanged</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">node_class</span> <span class="o">=</span> <span class="n">revealjs</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; build revealjs node &quot;&quot;&quot;</span>

        <span class="n">set_classes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>

        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_class</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;data-markdown&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">:</span>
            <span class="n">node</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span><span class="p">)</span>

        <span class="n">node</span><span class="p">[</span><span class="s1">&#39;noheading&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;noheading&#39;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>

        <span class="n">options_list</span> <span class="o">=</span> <span class="p">(</span>
            <span class="s1">&#39;id&#39;</span><span class="p">,</span>
            <span class="s1">&#39;title-heading&#39;</span><span class="p">,</span>
            <span class="s1">&#39;subtitle-heading&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-autoslide&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-transition&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-transition-speed&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-background&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-background-repeat&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-background-size&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-background-transition&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-state&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-markdown&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-separator&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-separator-vertical&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-separator-notes&#39;</span><span class="p">,</span>
            <span class="s1">&#39;data-charset&#39;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">option</span> <span class="ow">in</span> <span class="n">options_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">option</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">:</span>
                <span class="n">node</span><span class="p">[</span><span class="n">option</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">option</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">RvSmallDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Create small text tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">final_argument_whitespace</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">class_option</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">node_class</span> <span class="o">=</span> <span class="n">rv_small</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; build rv_small node &quot;&quot;&quot;</span>

        <span class="n">set_classes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_class</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">RvNoteDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Directive for a notes tag.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">final_argument_whitespace</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="n">directives</span><span class="o">.</span><span class="n">class_option</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">node_class</span> <span class="o">=</span> <span class="n">rv_note</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; build rv_note node &quot;&quot;&quot;</span>
        <span class="n">set_classes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_class</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">add_name</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">nested_parse</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">content_offset</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">class</span> <span class="nc">RvCodeDirective</span><span class="p">(</span><span class="n">Directive</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Directive for a code block with highlight.js</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">has_content</span> <span class="o">=</span> <span class="bp">True</span>
    <span class="n">required_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">optional_arguments</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">final_argument_whitespace</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">option_spec</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">node_class</span> <span class="o">=</span> <span class="n">rv_code</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; build rv_code node &quot;&quot;&quot;</span>
        <span class="n">set_classes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">assert_has_content</span><span class="p">()</span>
        <span class="n">node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">node_class</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">content</span><span class="p">),</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">node</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">visit_revealjs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build start tag for revealjs &quot;&quot;&quot;</span>
    <span class="n">section_attr</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="n">markdown_headings</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;h1&quot;</span><span class="p">:</span> <span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;h2&quot;</span><span class="p">:</span> <span class="s2">&quot;##&quot;</span><span class="p">,</span> <span class="s2">&quot;h3&quot;</span><span class="p">:</span> <span class="s2">&quot;###&quot;</span><span class="p">,</span>
                         <span class="s2">&quot;h4&quot;</span><span class="p">:</span> <span class="s2">&quot;####&quot;</span><span class="p">,</span> <span class="s2">&quot;h5&quot;</span><span class="p">:</span> <span class="s2">&quot;#####&quot;</span><span class="p">,</span> <span class="s2">&quot;h6&quot;</span><span class="p">:</span> <span class="s2">&quot;######&quot;</span><span class="p">}</span>

    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">):</span>
        <span class="n">section_attr</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s2">&quot;ids&quot;</span><span class="p">:</span> <span class="p">[</span><span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)]})</span>

    <span class="n">attr_list</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s1">&#39;data-autoslide&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-transition&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-transition-speed&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-background&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-background-repeat&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-background-size&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-background-transition&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-state&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-markdown&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-separator&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-separator-vertical&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-separator-notes&#39;</span><span class="p">,</span>
        <span class="s1">&#39;data-charset&#39;</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="n">attr_list</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">section_attr</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">attr</span><span class="p">:</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">attr</span><span class="p">)})</span>

    <span class="n">title</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;noheading&#39;</span><span class="p">):</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;title&quot;</span><span class="p">)</span>

    <span class="n">title_heading</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title-heading&#39;</span><span class="p">,</span> <span class="s1">&#39;h2&#39;</span><span class="p">)</span>
    <span class="n">subtitle</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;subtitle&quot;</span><span class="p">)</span>
    <span class="n">subtitle_heading</span> <span class="o">=</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;subtitle-heading&#39;</span><span class="p">,</span> <span class="s1">&#39;h3&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data-markdown&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>

<span class="hll">        <span class="n">title_base</span> <span class="o">=</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%(heading)s</span><span class="s2"> </span><span class="si">%(title)s</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span>        <span class="n">title_text</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
            <span class="n">title_text</span> <span class="o">=</span> <span class="n">title_base</span> <span class="o">%</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">heading</span><span class="o">=</span><span class="n">markdown_headings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">title_heading</span><span class="p">),</span>
                <span class="n">title</span><span class="o">=</span><span class="n">title</span>
            <span class="p">)</span>

        <span class="n">subtitle_text</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">subtitle</span><span class="p">:</span>
            <span class="n">subtitle_text</span> <span class="o">=</span> <span class="n">title_base</span> <span class="o">%</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">heading</span><span class="o">=</span><span class="n">markdown_headings</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">subtitle_heading</span><span class="p">),</span>
                <span class="n">title</span><span class="o">=</span><span class="n">subtitle</span>
            <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
<span class="hll">        <span class="n">title_base</span> <span class="o">=</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;&lt;</span><span class="si">%(heading)s</span><span class="s2">&gt;</span><span class="si">%(title)s</span><span class="s2">&lt;/</span><span class="si">%(heading)s</span><span class="s2">&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span>        <span class="n">title_text</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">title</span><span class="p">:</span>
            <span class="n">title_text</span> <span class="o">=</span> <span class="n">title_base</span> <span class="o">%</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                <span class="n">heading</span><span class="o">=</span><span class="n">title_heading</span><span class="p">)</span>

        <span class="n">subtitle_text</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">subtitle</span><span class="p">:</span>
            <span class="n">subtitle_text</span> <span class="o">=</span> <span class="n">title_base</span> <span class="o">%</span> <span class="nb">dict</span><span class="p">(</span>
                <span class="n">title</span><span class="o">=</span><span class="n">subtitle</span><span class="p">,</span>
                <span class="n">heading</span><span class="o">=</span><span class="n">subtitle_heading</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data-markdown&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="bp">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">section_attr</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;data-markdown&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="n">text</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
<span class="hll">            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;script type=&#39;text/template&#39;&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
</span>            <span class="k">if</span> <span class="n">title_text</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title_text</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">subtitle_text</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subtitle_text</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rawsource</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;/script&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">section_attr</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">title_text</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">title_text</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">subtitle_text</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">subtitle_text</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">depart_revealjs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build end tag for revealjs &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;&lt;/section&gt;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">visit_rv_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build start tag for rv_code &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;pre&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;code data-trim contenteditable&gt;&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">rawsource</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">depart_rv_code</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build end tag for rv_code &quot;&quot;&quot;</span>

    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;/code&gt;&quot;</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;/pre&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">visit_rv_small</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build start tag for rv_small &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;small&#39;</span><span class="p">))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">depart_rv_small</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build end tag for rv_small&quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;/small&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">visit_rv_note</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build start tag for rv_note &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">starttag</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="s1">&#39;aside&#39;</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s1">&#39;class&#39;</span><span class="p">:</span> <span class="s1">&#39;notes&#39;</span><span class="p">}))</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">set_first_last</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">depart_rv_note</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; build end tag for rv_note &quot;&quot;&quot;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">body</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;/aside&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">setup</span><span class="p">(</span><span class="n">app</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Initialize &quot;&quot;&quot;</span>
    <span class="n">app</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;Initializing RevealJS theme directives&#39;</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">revealjs</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="p">(</span><span class="n">visit_revealjs</span><span class="p">,</span> <span class="n">depart_revealjs</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">rv_code</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="p">(</span><span class="n">visit_rv_code</span><span class="p">,</span> <span class="n">depart_rv_code</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">rv_note</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="p">(</span><span class="n">visit_rv_note</span><span class="p">,</span> <span class="n">depart_rv_note</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">rv_small</span><span class="p">,</span> <span class="n">html</span><span class="o">=</span><span class="p">(</span><span class="n">visit_rv_small</span><span class="p">,</span> <span class="n">depart_rv_small</span><span class="p">))</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;revealjs&#39;</span><span class="p">,</span> <span class="n">RevealjsDirective</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;rv_code&#39;</span><span class="p">,</span> <span class="n">RvCodeDirective</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;rv_note&#39;</span><span class="p">,</span> <span class="n">RvNoteDirective</span><span class="p">)</span>
    <span class="n">app</span><span class="o">.</span><span class="n">add_directive</span><span class="p">(</span><span class="s1">&#39;rv_small&#39;</span><span class="p">,</span> <span class="n">RvSmallDirective</span><span class="p">)</span>
    <span class="k">return</span>
</pre></div>
</div>
</div>
<div class="tab-content docutils container" id="tab-sphinx185">
<p class="tab-title">Sphinx 1.8.5</p>
<p>No additional changes were necessary for this extension to run in Sphinx 1.8.5.</p>
</div>
</div>
</div>
</div>
</div>


          </div>
          <div class="footer" role="contentinfo">

<!--
-->
            <!--<a href="/feedback.html">Provide feedback on Context Relevant documentation</a>.-->
            </div>
        </div>
      </div>

      <div class="clearer"></div>
    </div>

  </div>
  </body>
</html>